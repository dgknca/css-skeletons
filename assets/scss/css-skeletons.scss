.skeleton {
  --lines: 1;
  --l-h: 20px;
  --l-gap: 10px;
  --g-gap: 15px;
  --c-w: 300px;
  --c-p: 10px;
  --bg:#E2E1EB;
  --c-bg: transparent;
  --shine:#eaeaf1;
  --t: 2s;
  --c-s: 40px;
  --rect-h: 80px;
  padding: var(--c-p);
  width: var(--c-w);
  position: relative;
  background: var(--c-bg);
  box-sizing: content-box !important;
  --lin:linear-gradient(var(--bg), var(--bg));

  &::before,
  &::after {
    content: '';
    position: absolute;
    left: var(--c-p);
    top: var(--c-p);
    width: calc(100% - calc(var(--c-p) * 2));
    height: calc(100% - calc(var(--c-p) * 2));
  }

  &::before {
    background: var(--bg);
  }

  &::after {
    background: linear-gradient(to right, transparent 0 20%, var(--shine), transparent 80% 100%) -300% 0/80% 100%  no-repeat;
    animation: s var(--t) linear infinite;

    @keyframes s {
      to {
        background-position: 600% 0;
      }
    }
  }

  &.no-animate {
    &::after {
      animation: none;
    }
  }
}

.skeleton.line {
  height: calc((var(--l-h) * var(--lines)) + (var(--l-gap) * (var(--lines) - 1)));

  &::before,
  &::after {
    --mask: linear-gradient(var(--bg) 0 var(--l-h),transparent var(--l-h) calc(var(--l-h) + var(--l-gap))) 0 0/100% calc(var(--l-h) + var(--l-gap));
    -webkit-mask: var(--mask);
            mask: var(--mask);
  }

  &.rounded {
    &::before,
    &::after {
      --mask: 
      linear-gradient(var(--bg) 0 var(--l-h),transparent var(--l-h) calc(var(--l-h) + var(--l-gap))) calc(var(--l-h) / 2) 0/calc(100% - var(--l-h)) calc(var(--l-h) + var(--l-gap)) no-repeat repeat,
      radial-gradient(calc(var(--l-h) / 2) calc(var(--l-h) / 2) at 50% 50%,var(--bg) 98%,transparent 100%) 0 0% / calc(var(--l-h)) calc(var(--l-h))  no-repeat repeat,
      radial-gradient(calc(var(--l-h) / 2) calc(var(--l-h) / 2) at 50% 50%,var(--bg) 98%,transparent 100%) 100% 0% / calc(var(--l-h)) calc(var(--l-h))  no-repeat repeat;
      -webkit-mask: var(--mask);
              mask: var(--mask);
    }
  }
}

.skeleton.circle {
  width: var(--c-s);
  height: var(--c-s);

  &::before,
  &::after {
    --mask: radial-gradient(calc(var(--c-s) / 2) calc(var(--c-s) / 2) at 50% 50%,var(--bg) 98%,transparent 100%) 0 50% / var(--c-s) var(--c-s) no-repeat;
    -webkit-mask: var(--mask);
            mask: var(--mask);
  }
}

.skeleton.circle-line {
  height: var(--c-s);

  &::before,
  &::after {
    --mask: radial-gradient(calc(var(--c-s) / 2) calc(var(--c-s) / 2) at 50% 50%,var(--bg) 98%,transparent 100%) 0 50% / calc(var(--c-s)) calc(var(--c-s)),
            var(--lin) calc(var(--c-s) + var(--g-gap)) 50%/100% var(--l-h);
    -webkit-mask: var(--mask);
    mask: var(--mask);
    -webkit-mask-repeat: no-repeat;
            mask-repeat: no-repeat;
  }
}

.skeleton.circle-multi-line {
  height: calc((var(--l-h) * var(--lines)) + (var(--l-gap) * (var(--lines) - 1)));

  &::before,
  &::after {
    --mask: radial-gradient(calc(var(--c-s) / 2) calc(var(--c-s) / 2) at 50% 50%,var(--bg) 98%,transparent 100%) 0 50% / calc(var(--c-s)) calc(var(--c-s)) no-repeat,
            linear-gradient(var(--bg) 0 var(--l-h), transparent var(--l-h) calc(var(--l-h) + var(--l-gap))) calc(var(--c-s) + var(--g-gap)) 0%/100% calc(var(--l-h) + var(--l-gap)) no-repeat repeat;
    -webkit-mask: var(--mask);
            mask: var(--mask);
  }

  &.adapt-to-circle {
    height: var(--c-s);

    &::before,
    &::after {
      -webkit-mask-repeat: no-repeat, no-repeat space;
              mask-repeat: no-repeat, no-repeat space;
    }
  }
}

.skeleton.rect {
  height: calc((var(--l-h) * var(--lines)) + (var(--l-gap) * (var(--lines) - 1)) + var(--rect-h) + var(--g-gap));

  &::before,
  &::after {
    --mask: var(--lin) 0 0/100% var(--rect-h) no-repeat, 
            repeating-linear-gradient(var(--bg) 0 var(--l-h), transparent var(--l-h) calc(var(--l-h) + var(--l-gap))) 0 calc(var(--rect-h) + var(--g-gap)) / 100% calc(100% - (var(--rect-h) + var(--g-gap))) no-repeat;
    -webkit-mask: var(--mask);
            mask: var(--mask);
  }
}

.skeleton.chart-area {
  --chart-bottom: 40px;
  --chart-h: 200px;
  height: var(--chart-h);
  
  &::before,
  &::after {
    --mask: var(--lin) 0 100% / 100% var(--chart-bottom) no-repeat,
            linear-gradient(to left bottom,transparent 0 49.5%, var(--bg) 50% 100%) left 0 bottom var(--chart-bottom) / calc((var(--c-w) / 10) * 2) calc(var(--chart-h) / 2) no-repeat,
            linear-gradient(to right bottom,transparent 0 49.5%, var(--bg) 50% 100%) left calc((var(--c-w) / 10) * 2) bottom var(--chart-bottom) / calc((var(--c-w) / 10) * 3) calc(var(--chart-h) - var(--chart-bottom)) no-repeat,
            linear-gradient(to left bottom,transparent 0 49.5%, var(--bg) 50% 100%) left calc((var(--c-w) / 10) * 5) bottom var(--chart-bottom) / calc((var(--c-w) / 10) * 3) calc(var(--chart-h) - var(--chart-bottom)) no-repeat,
            linear-gradient(to right bottom,transparent 0 49.5%, var(--bg) 50% 100%) left calc((var(--c-w) / 10) * 8) bottom var(--chart-bottom) / calc((var(--c-w) / 10) * 2.5) calc(var(--chart-h) / 2.5) no-repeat;
    -webkit-mask: var(--mask);
            mask: var(--mask);
  }
}

.skeleton.chart-columns {
  --cols: 5;
  --col-w: 25px;
  --col-gap: 25px;
  --o-l: calc(var(--col-w) + var(--col-gap)); // offset-left
  --chart-h: 200px;
  height: var(--chart-h);
  width: calc(((var(--cols) - 1) * var(--o-l)) + var(--col-w));
  
  &::before,
  &::after {
    --mask: var(--lin) 0 100% / var(--col-w) calc((var(--chart-h) / 10) * 4),
            var(--lin) calc(var(--o-l)) 100% / var(--col-w) calc((var(--chart-h) / 10) * 3),
            var(--lin) calc(var(--o-l) * 2) 100% / var(--col-w) calc((var(--chart-h) / 10) * 6),
            var(--lin) calc(var(--o-l) * 3) 100% / var(--col-w) calc((var(--chart-h) / 10) * 8),
            var(--lin) calc(var(--o-l) * 4) 100% / var(--col-w) calc((var(--chart-h) / 10) * 2),
            var(--lin) calc(var(--o-l) * 5) 100% / var(--col-w) calc((var(--chart-h) / 10) * 5),
            var(--lin) calc(var(--o-l) * 6) 100% / var(--col-w) calc((var(--chart-h) / 10) * 4),
            var(--lin) calc(var(--o-l) * 7) 100% / var(--col-w) calc((var(--chart-h) / 10) * 9),
            var(--lin) calc(var(--o-l) * 8) 100% / var(--col-w) calc((var(--chart-h) / 10) * 2),
            var(--lin) calc(var(--o-l) * 9) 100% / var(--col-w) calc((var(--chart-h) / 10) * 7);
    -webkit-mask: var(--mask);
            mask: var(--mask);
    -webkit-mask-repeat: no-repeat;
            mask-repeat: no-repeat;
  }
}

.skeleton.skeleton-card-1 {
  --card-h:150px;
  --g-gap: 30px;
  --c-s: 30px;
  height: var(--card-h);
  --r-x:calc((var(--c-w) / 4) + var(--g-gap));
  --l-x:calc((var(--c-w) / 4) + var(--g-gap) + var(--c-s) + var(--l-gap));
  --l-w: calc((var(--c-w) - (var(--c-w) / 4 + (var(--g-gap) * 2) + (var(--l-gap) * 2) + var(--c-s) * 2)) / 2);
  &::before,
  &::after {
    --mask: var(--lin) 0 0 / calc(var(--c-w) / 4) var(--card-h),
            var(--lin) calc((var(--c-w) / 4) + var(--g-gap)) 0 / calc(var(--c-w) - ((var(--c-w) / 4) + var(--g-gap))) calc(var(--card-h) / 5),
            var(--lin) calc((var(--c-w) / 4) + var(--g-gap)) calc(var(--card-h) / 3) / calc(var(--c-w) - ((var(--c-w) / 4) + var(--g-gap))) calc(var(--card-h) / 8),
            var(--lin) calc((var(--c-w) / 4) + var(--g-gap)) calc(var(--card-h) / 1.8) / calc(var(--c-w) - ((var(--c-w) / 4) + var(--g-gap))) calc(var(--card-h) / 8),
            radial-gradient(calc(var(--c-s) / 2) calc(var(--c-s) / 2) at 50% 50%,var(--bg) 98%,transparent 100%) var(--r-x) 100% / calc(var(--c-s)) calc(var(--c-s)),
            var(--lin) left var(--l-x) bottom calc((var(--c-s) - (var(--card-h) / 8)) / 2) / var(--l-w) calc(var(--card-h) / 8),
            radial-gradient(calc(var(--c-s) / 2) calc(var(--c-s) / 2) at 50% 50%,var(--bg) 98%,transparent 100%) calc(var(--l-x) + var(--l-w) + var(--g-gap)) 100% / calc(var(--c-s)) calc(var(--c-s)),
            var(--lin) left calc(var(--l-x) + var(--l-w) + var(--c-s) + var(--g-gap) + var(--l-gap)) bottom calc((var(--c-s) - (var(--card-h) / 8)) / 2) / var(--l-w) calc(var(--card-h) / 8);
    -webkit-mask: var(--mask);
            mask: var(--mask);
    -webkit-mask-repeat: no-repeat;
            mask-repeat: no-repeat;
  }
}